<div class="p-4">
  <h1 class="text-3xl font-bold mb-6 text-center">Available Studios for Booking</h1>

  <div class="flex flex-col sm:flex-row gap-4 items-center justify-center mb-6">

    <app-search-bar
      [suggestions]="areaSuggestions"
      (searchChange)="onAreaSearchChange($event)">
    </app-search-bar>

    <select
      [(ngModel)]="selectedRadius"
      class="border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
      aria-label="Select search radius"
    >
      <option *ngFor="let r of radiusOptions" [value]="r">{{r}} km</option>
    </select>

    <button
      (click)="searchNearby()"
      class="px-5 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition"
      [disabled]="searching"
    >
      {{ searching ? 'Searching...' : 'Search Nearby' }}
    </button>

    <button
      (click)="resetFilters()"
      class="px-5 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition">
      Reset Filters
    </button>
  </div>

  <p *ngIf="errorMessage" class="text-red-600 text-center mb-4">{{ errorMessage }}</p>

  <p *ngIf="!errorMessage && filteredStudios.length === 0" class="text-center text-gray-500 mb-4">
    No studios found matching your criteria.
  </p>

  <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
    <app-studio-card
      *ngFor="let studio of filteredStudios"
      [studio]="studio"
      (book)="selectedStudio = $event">
    </app-studio-card>

  </div>

  <!-- Booking modal -->
  <app-booking-modal
    *ngIf="selectedStudio"
    [studio]="selectedStudio"
    (close)="selectedStudio=null">
  </app-booking-modal>
</div>
