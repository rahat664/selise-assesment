<div class="fixed inset-0 bg-white bg-opacity-50 flex justify-center items-center z-50">
  <div class="bg-white rounded-lg shadow-lg max-w-md w-full p-6 relative">
    <h2 class="text-2xl font-bold mb-4">Book {{ studio?.Name }}</h2>

    <form [formGroup]="bookingForm" (ngSubmit)="onSubmit()" novalidate>
      <!-- Date Picker -->
      <label class="block mb-2 font-semibold" for="date">Select Date:</label>
      <input
        id="date"
        type="date"
        class="w-full border rounded-md px-3 py-2 mb-4"
        [min]="minDate"
        formControlName="bookingDate"
      />
      <div *ngIf="bookingForm.get('bookingDate')?.touched && bookingForm.get('bookingDate')?.invalid" class="text-red-600 text-sm mb-2">
        Date is required.
      </div>

      <!-- Time Slot Picker -->
      <label class="block mb-2 font-semibold" for="timeSlot">Select Time Slot:</label>
      <select
        id="timeSlot"
        class="w-full border rounded-md px-3 py-2 mb-4"
        formControlName="bookingTimeSlot"
      >
        <option value="">-- Select a Time Slot --</option>
        <option *ngFor="let slot of availableTimeSlots" [value]="slot">{{slot}}</option>
      </select>
      <div *ngIf="bookingForm.get('bookingTimeSlot')?.touched && bookingForm.get('bookingTimeSlot')?.invalid" class="text-red-600 text-sm mb-2">
        Time slot is required.
      </div>

      <!-- User Info -->
      <label class="block mb-2 font-semibold" for="name">Your Name:</label>
      <input
        id="name"
        type="text"
        class="w-full border rounded-md px-3 py-2 mb-4"
        formControlName="userName"
      />
      <div *ngIf="bookingForm.get('userName')?.touched && bookingForm.get('userName')?.invalid" class="text-red-600 text-sm mb-2">
        Name is required.
      </div>

      <label class="block mb-2 font-semibold" for="email">Your Email:</label>
      <input
        id="email"
        type="email"
        class="w-full border rounded-md px-3 py-2 mb-4"
        formControlName="userEmail"
      />
      <div *ngIf="bookingForm.get('userEmail')?.touched && bookingForm.get('userEmail')?.invalid" class="text-red-600 text-sm mb-2">
        Valid email is required.
      </div>

      <p *ngIf="errorMessage" class="text-red-600 mb-3">{{ errorMessage }}</p>
      <p *ngIf="successMessage" class="text-green-600 mb-3">{{ successMessage }}</p>

      <div class="flex justify-end gap-3">
        <button type="button" (click)="close.emit()" class="px-4 py-2 border rounded hover:bg-gray-100">Cancel</button>
        <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700" >Book Now</button>
      </div>
    </form>
  </div>
</div>
